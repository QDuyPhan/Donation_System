<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/css/displayFundCard.css}">
  <title>Danh sách quỹ</title>
</head>
<body>
<div th:fragment="displayFundListFragment" class="container mt-4">

  <div class="row" th:if="${fundList != null}">

    <!----->
    <div class="col-md-4" th:each="fund : ${fundList}">
      <a class="text-decoration-none" style="color: black;">

        <div
          class="donation-item d-flex flex-column overflow-hidden rounded border border-light bg-white text-dark shadow-sm transition">
          <div class="dn-img d-flex">
            <span class="position-relative w-100" style="display:block; ">
                <img alt="Hình ảnh quỹ" class="img-fluid" th:src="${fund.imageUrl}">
            </span>
          </div>
          <div class="dn-body flex-grow-1 px-4 pb-3 pt-4">
            <div class="dn-title h5 font-weight-bold" th:text="${fund.name}"></div>
          </div>
          <div class="dn-footer mb-4 px-4 pt-0">
            <div class="mb-3 d-flex align-items-center">
              <div class="flex-grow-1 text-xs text-muted" th:text="${fund.foundation.name}"></div>
              <div class="shrink-0"></div>
            </div>
            <div class="dn-detail">
              <div class="dn-money mb-2 d-flex align-items-end">
                <strong class="item-end d-flex align-items-center text-dark"
                        th:text="${totalDonations[fund.id]} + 'đ/'"></strong>
                <span class="pl-2 text-xs text-muted" th:text="${fund.expectedResult} + 'đ'"></span>
              </div>


              <div class="mt-3 d-flex justify-content-between align-items-center">
                <div class="flex-grow-1">
                  <div class="text-xs text-muted">Lượt quyên góp</div>
                  <div class="text-sm font-weight-bold text-dark" th:text="${sumDonations[fund.id]}"></div>
                </div>
                <div class="flex-grow-1">
                  <div class="text-xs text-muted">Đạt được</div>
                  <div class="text-sm font-weight-bold text-dark" th:text="${fund.percentAchieved} + '%'"></div>
                </div>
                <div class="position-relative">
                  <a th:href="@{/Donations/detailFund(id=${fund.id})}" class="btn btn-outline-info">Xem chi tiết</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </a>
    </div>

  </div>

</div>
</body>
</html>
