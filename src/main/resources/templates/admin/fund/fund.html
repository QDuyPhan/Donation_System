<!DOCTYPE html>
<html lang="en" th:replace="~{admin/home/index}" xmlns:th="http://www.thymeleaf.org">
<head>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
  />
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div id="content" th:fragment="contentAdmin">
  <div id="content-header">
    <h4 class="m-10 d-block">Quản Lý Quỹ quyên góp</h4>
    <div id="table-filter" class="d-flex justify-content-end mb-2">
      <input
        id="filter-id" type="search" placeholder="Search by ID..."
        class="form-control h-50 d-inline-block w-25 mx-1" th:value="${id}">
      <input
        id="filter-name" type="search" placeholder="Search by Name..."
        class="form-control h-50 d-inline-block w-25 mx-1" th:value="${name}">
      <input
        id="filter-foundation" type="search" placeholder="Search by Foundation..."
        class="form-control h-50 d-inline-block w-25 mx-1" th:value="${foundation}">
      <select class="form-select" id="filter-category" name="filter-category" style="width: 150px"
              aria-label="Defaultselectexample">
        <option>Category</option>
        <option th:each="category : ${categoryList}" th:selected="${category == param.category}"
                th:text="${category.name}"></option>
      </select>
      <button id="btn-Search"
              class="btn btn-success btn-sm mx-1">
        <i class="fa-solid fa-magnifying-glass"></i> Tìm Kiếm
      </button>
      <a id="btn-Add-fund" type="button"
           th:href="@{/Donations/admin/fund/add}"   class="btn btn-primary btn-sm mx-1 d-block">
        <i class="fa-solid fa-plus"></i> Thêm mới
      </a>
    </div>
  </div>

  <table
    class="table table-bordered table-striped table-responsive-md"
  >
    <thead class="table-dark">
    <tr>
      <th>
        <button type="button" class="btn btn-danger btn-sm "
                id="btn-SelectedDelete-fund">
          <i class="fa-solid fa-trash"></i>
        </button>
      </th>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Expected Result</th>
      <th scope="col">Status</th>
      <th scope="col">Created Date</th>
      <th scope="col">End Date</th>
      <th scope="col">Category</th>
      <th scope="col">Foundation</th>
      <th scope="col">Function</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item : ${fundList}">
      <td style="width: 30px"><input th:value="${item.id}" type="checkbox"></td>
      <td class="user-id" style="vertical-align: middle" th:text="${item.id}"></td>
      <td class="user-username" style="vertical-align: middle" th:text="${item.name}"></td>
      <td class="user-username" style="vertical-align: middle" th:text="${item.expectedResult}"></td>
      <td class="fund-status">
        <span th:switch="${item.status}">
            <span th:case="'Opening'" class="badge bg-success">Opening</span>
            <span th:case="'Waiting'" class="badge text-bg-success">Waiting</span>
            <span th:case="'Close'" class="badge bg-dark">Close</span>
            <span th:case="'Finish'" class="badge bg-info">Finish</span>
            <span th:case="'Disable'" class="badge bg-warning">Disable</span>
        </span>
      </td>
      <td class="user-fullname" style="vertical-align: middle" th:text="${item.createdDate}"></td>
      <td class="user-sdt" style="vertical-align: middle" th:text="${item.endDate}"></td>
      <td class="user-email" style="vertical-align: middle" th:text="${item.category.name}"></td>
      <td class="user-diachi" style="vertical-align: middle" th:text="${item.foundation.name}"></td>
      <!--      <td class="user-status" style="vertical-align: middle">-->
      <!--        <span th:if="${item.status == 'Active'}" class="badge text-bg-success">Active</span>-->
      <!--        <span th:if="${item.status == 'Inactive'}" class="badge text-bg-success">Inactive</span>-->
      <!--        <span th:if="${item.status == 'NotActivated'}" class="badge text-bg-warning">NotActivated</span>-->
      <!--        <span th:if="${item.status == 'Banned'}" class="badge text-bg-warning">Banned</span>-->
      <!--      </td>-->
      <td>
        <a type="button" th:href="@{fund/update/{id}(id=${item.id})}" class="btn btn-warning btn-sm btn-edit"
                th:data-id="${item.id}">Edit</a>
        <a th:href="@{fund/deleteFund(id=${item.id})}" class="btn btn-danger btn-sm">Huỷ</a>

      </td>
    </tr>
    </tbody>
  </table>
  <div
    class="d-flex justify-content-end align-items-center"
    th:if="${totalPages > 0}"
  >
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li
          th:class="${currentPage == 0 ? 'page-item disabled' : 'page-item'}"
        >
          <a
            th:href="@{/Donations/admin/fund(page=0,  id=${id}, name=${name}, foundation=${foundation}, category=${category})}"
            class="page-link"
          >First</a
          >
        </li>
        <li
          th:class="${currentPage == 0 ? 'page-item disabled' : 'page-item'}"
        >
          <a
            th:href="@{/Donations/admin/fund(page=${currentPage - 1},  id=${id}, name=${name}, foundation=${foundation}, category=${category})}"
            class="page-link"
          >Previous</a
          >
        </li>
        <th:block
          th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
        >
          <li
            th:class="${currentPage == i ? 'page-item active' : 'page-item'}"
          >
            <a
              th:href="@{/Donations/admin/fund(page=${i},  id=${id}, name=${name}, foundation=${foundation}, category=${category})}"
              class="page-link"
              th:text="${i + 1}"
            ></a>
          </li>
        </th:block>
        <li
          th:class="${currentPage == totalPages - 1 ? 'page-item disabled' : 'page-item'}"
        >
          <a
            th:href="@{/Donations/admin/fund(page=${currentPage + 1},  id=${id}, name=${name}, foundation=${foundation}, category=${category})}"
            class="page-link"
          >Next</a
          >
        </li>
        <li
          th:class="${currentPage == totalPages - 1 ? 'page-item disabled' : 'page-item'}"
        >
          <a
            th:href="@{/Donations/admin/fund(page=${totalPages - 1},  id=${id}, name=${name}, foundation=${foundation}, category=${category})}"
            class="page-link"
          >Last</a
          >
        </li>
      </ul>
    </nav>
  </div>
</div>
</body>

</html>